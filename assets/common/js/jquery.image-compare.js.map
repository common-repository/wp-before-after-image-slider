{"version":3,"file":"common/js/jquery.image-compare.js","mappings":"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","sources":["webpack://@codecanel/before-after-image-slider/./src/common/scripts/jquery.image-compare.js"],"sourcesContent":["// Define image compare function.\nwindow.jQuery.fn.coca_imageCompare = function( userOptions ) {\n\tconst jquery = window.jQuery;\n\tconst defaultOptions = {\n\t\tdefault_offset_pct: 0.5,\n\t\torientation: 'horizontal',\n\t\tbefore_label: 'Before',\n\t\tafter_label: 'After',\n\t\tbefore_image: '',\n\t\tafter_image: '',\n\t\tindicator_image: '',\n\t\tclasses: [],\n\t\tshow_labels: true,\n\t\tno_overlay: false,\n\t\thandle_bottom_only: false,\n\t\tmove_slider_on_hover: false,\n\t\tmove_with_handle_only: true,\n\t\tclick_to_move: false,\n\t};\n\n\tconst options = jquery.extend( defaultOptions, userOptions );\n\n\treturn this.each( function() {\n\t\tlet imgHeight;\n\t\tlet imgWidth;\n\t\tlet offsetY;\n\t\tlet offsetX;\n\t\tconst container = jquery( this );\n\t\tconst orientation = options.orientation;\n\n\t\tconst wrapperClassList = [].join.call( options.classes, ' ' );\n\t\tconst classPrefix = 'coca-image-compare';\n\n\t\tconst beforeD = orientation === 'vertical' ? 'down' : 'left';\n\t\tconst afterD = orientation === 'vertical' ? 'up' : 'right';\n\n\t\t// Update wrapper class.\n\t\tconst handleBottomClass = options.handle_bottom_only ? 'handle-bottom' : '';\n\t\tconst noOverlayClass = options.no_overlay ? 'no-overlay' : '';\n\n\t\tcontainer.wrap( `<div class='${ wrapperClassList } ${ classPrefix }-wrapper ${ classPrefix }-${ orientation } ${ handleBottomClass }'></div>` );\n\n\t\tconst beforeImg = container.find( 'img:first' );\n\t\tconst afterImg = container.find( 'img:last' );\n\n\t\tcontainer.addClass( `${ classPrefix }-container` );\n\t\tbeforeImg.addClass( `${ classPrefix }-before` );\n\t\tafterImg.addClass( `${ classPrefix }-after` );\n\n\t\t// create an indicator image feature\n\t\tif ( options.indicator_image.length ) {\n\t\t\tcontainer.append( jquery( options.indicator_image ).addClass( `${ classPrefix }-overlay-image` ) );\n\t\t}\n\n\t\tcontainer.append( `<div class='${ classPrefix }-overlay ${ noOverlayClass }'></div>` );\n\t\tcontainer.append( `<div class='${ classPrefix }-handle'></div>` );\n\n\t\tconst overlay = container.find( `.${ classPrefix }-overlay` );\n\t\tconst slider = container.find( `.${ classPrefix }-handle` );\n\n\t\t// Set handle position.\n\t\tif ( options.handle_bottom_only ) {\n\t\t\tslider.wrap( `<div class='${ classPrefix }-handle-wrapper'></div>` );\n\t\t} else {\n\t\t\tslider.append( `<span class='${ classPrefix }-${ beforeD }-arrow'></span>` );\n\t\t\tslider.append( `<span class='${ classPrefix }-${ afterD }-arrow'></span>` );\n\t\t}\n\n\t\t// Add labels.\n\t\tif ( options.show_labels ) {\n\t\t\tconst quote = options.before_label.indexOf( \"'\" ) !== -1 ? '\"' : \"'\";\n\t\t\toverlay.append( `<div class='${ classPrefix }-before-label' data-content=${ quote }${ options.before_label }${ quote }></div>` );\n\t\t\toverlay.append( `<div class='${ classPrefix }-after-label' data-content=${ quote }${ options.after_label }${ quote }></div>` );\n\t\t}\n\n\t\tconst calcOffset = ( pct ) => {\n\t\t\tconst [ root ] = container;\n\n\t\t\t// remove first.\n\t\t\tif ( root.querySelector( 'img:first-child' ).style.width ) {\n\t\t\t\troot.querySelector( 'img:first-child' ).style.width = '';\n\t\t\t}\n\n\t\t\tconst sampleImageWidth = root.querySelector( 'img:first-child' ).width;\n\n\t\t\t[].forEach.call( root.querySelectorAll( 'img' ), function( imageElement ) {\n\t\t\t\t// Set image width.\n\t\t\t\tif ( sampleImageWidth > root.clientWidth ) {\n\t\t\t\t\timageElement.style.width = `${ root.clientWidth }px`;\n\t\t\t\t} else {\n\t\t\t\t\timageElement.style.width = `${ sampleImageWidth }px`;\n\t\t\t\t}\n\n\t\t\t\t// Set width and height when not exists.\n\t\t\t\tif ( ! imageElement.getAttribute( 'width' ) ) {\n\t\t\t\t\timageElement.setAttribute( 'width', imageElement.naturalWidth );\n\t\t\t\t}\n\t\t\t\tif ( ! imageElement.getAttribute( 'height' ) ) {\n\t\t\t\t\timageElement.setAttribute( 'height', imageElement.naturalHeight );\n\t\t\t\t}\n\t\t\t}\n\t\t\t);\n\n\t\t\tlet width = root.querySelector( 'img:first-child' ).width;\n\t\t\tlet height = root.querySelector( 'img:first-child' ).height;\n\n\t\t\tif ( container.hasClass( 'popup-loaded' ) ) {\n\t\t\t\tconst windowWidth = window.innerWidth;\n\t\t\t\tconst windowHeight = window.innerHeight;\n\n\t\t\t\tconst targetWidth = windowWidth - ( windowWidth * 0.2 );\n\t\t\t\tconst targetHeight = windowHeight - ( windowHeight * 0.2 );\n\n\t\t\t\tconst ratio = width / height;\n\n\t\t\t\tif ( ratio > targetWidth / targetHeight ) {\n\t\t\t\t\twidth = targetWidth;\n\t\t\t\t\theight = targetWidth / ratio;\n\t\t\t\t} else {\n\t\t\t\t\theight = targetHeight;\n\t\t\t\t\twidth = targetHeight * ratio;\n\t\t\t\t}\n\n\t\t\t\t[].forEach.call( root.querySelectorAll( 'img' ), function( imageElement ) {\n\t\t\t\t\timageElement.style.width = `${ width }px`;\n\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\twidth = root.querySelector( 'img:first-child' ).width;\n\t\t\t\theight = root.querySelector( 'img:first-child' ).height;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tw: `${ width }px`,\n\t\t\t\th: `${ height }px`,\n\t\t\t\tcw: `${ pct * width }px`,\n\t\t\t\tch: `${ pct * height }px`,\n\t\t\t};\n\t\t};\n\n\t\tconst adjustContainer = function( offset ) {\n\t\t\tif ( orientation === 'vertical' ) {\n\t\t\t\tbeforeImg.css( 'clip', `rect( 0, ${ offset.w }, ${ offset.ch }, 0)` );\n\t\t\t\tafterImg.css( 'clip', `rect( 0, ${ offset.w }, ${ offset.h }, 0)` );\n\t\t\t} else {\n\t\t\t\tbeforeImg.css( 'clip', `rect( 0, ${ offset.cw }, ${ offset.h }, 0)` );\n\t\t\t\tafterImg.css( 'clip', `rect( 0, ${ offset.w }, ${ offset.h } , 0)` );\n\t\t\t}\n\t\t\tcontainer.css( 'height', offset.h );\n\t\t};\n\n\t\tconst adjustSliderWidth = function( offset ) {\n\t\t\tcontainer.css( 'max-width', offset.w );\n\t\t};\n\n\t\tconst adjustSlider = function( offset ) {\n\t\t\tslider.css(\n\t\t\t\torientation === 'vertical' ? 'top' : 'left',\n\t\t\t\torientation === 'vertical' ? offset.ch : offset.cw\n\t\t\t);\n\t\t\tadjustContainer( offset );\n\t\t};\n\n\t\t// Return the number specified or the min/max number if it outside the range given.\n\t\tconst minMaxNumber = function( num, min, max ) {\n\t\t\treturn Math.max( min, Math.min( max, num ) );\n\t\t};\n\n\t\t// Calculate the slider percentage based on the position.\n\t\tconst getSliderPercentage = function( positionX, positionY ) {\n\t\t\tconst vertical = ( positionY - offsetY ) / imgHeight;\n\t\t\tconst horizontal = ( positionX - offsetX ) / imgWidth;\n\t\t\tconst sliderPercentage = orientation === 'vertical' ? vertical : horizontal;\n\n\t\t\treturn minMaxNumber( sliderPercentage, 0, 1 );\n\t\t};\n\n\t\t// jquery( window ).on( 'resize.coca_image_compare', function() {\n\t\t// \tcontainer.imagesLoaded().done( function() {\n\t\t// \t\twindow.setTimeout( function() {\n\t\t// \t\t\tadjustSlider( calcOffset( options.default_offset_pct ) );\n\t\t// \t\t\tcontainer.css( 'opacity', 1 );\n\t\t// \t\t}, 100 );\n\t\t// \t} );\n\t\t// } );\n\n\t\tjquery( document ).ready( function() {\n\t\t\tcontainer.imagesLoaded().done( function() {\n\t\t\t\twindow.setTimeout( function() {\n\t\t\t\t\tconst offset = calcOffset( options.default_offset_pct );\n\t\t\t\t\tadjustSliderWidth( offset );\n\t\t\t\t\tadjustSlider( offset );\n\t\t\t\t\tcontainer.css( 'opacity', 1 );\n\t\t\t\t}, 100 );\n\t\t\t} );\n\t\t} );\n\n\t\toffsetX = 0;\n\t\toffsetY = 0;\n\t\timgWidth = 0;\n\t\timgHeight = 0;\n\n\t\tconst onMoveStart = function( e ) {\n\t\t\tif ( ( ( e.distX > e.distY && e.distX < -e.distY ) || ( e.distX < e.distY && e.distX > -e.distY ) ) && orientation !== 'vertical' ) {\n\t\t\t\te.preventDefault();\n\t\t\t} else if ( ( ( e.distX < e.distY && e.distX < -e.distY ) || ( e.distX > e.distY && e.distX > -e.distY ) ) && orientation === 'vertical' ) {\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\tcontainer.addClass( 'active' );\n\t\t\toffsetX = container.offset().left;\n\t\t\toffsetY = container.offset().top;\n\t\t\timgWidth = beforeImg.width();\n\t\t\timgHeight = beforeImg.height();\n\t\t};\n\n\t\tconst onMove = function( e ) {\n\t\t\tif ( container.hasClass( 'active' ) ) {\n\t\t\t\tadjustSlider( calcOffset( getSliderPercentage( e.pageX, e.pageY ) ) );\n\t\t\t\tif ( e.type === 'mousemove' ) {\n\t\t\t\t\tjquery( this ).find( `.${ classPrefix }-overlay` ).addClass( 'hover' );\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tconst onMoveEnd = function( e ) {\n\t\t\tcontainer.removeClass( 'active' );\n\t\t\tif ( e.type === 'mouseleave' ) {\n\t\t\t\tjquery( this ).find( `.${ classPrefix }-overlay` ).removeClass( 'hover' );\n\t\t\t}\n\t\t};\n\n\t\tconst moveTarget = options.move_with_handle_only ? slider : container;\n\t\tmoveTarget.on( 'movestart', onMoveStart );\n\t\tmoveTarget.on( 'move', onMove );\n\n\t\tif ( options.move_slider_on_hover ) {\n\t\t\tcontainer.on( 'mouseenter', onMoveStart );\n\t\t\tcontainer.on( 'mousemove', onMove );\n\t\t\tcontainer.on( 'mouseleave', onMoveEnd );\n\t\t}\n\n\t\tslider.on( 'touchmove', function( e ) {\n\t\t\te.preventDefault();\n\t\t} );\n\n\t\tcontainer.find( 'img' ).on( 'mousedown', function( event ) {\n\t\t\tevent.preventDefault();\n\t\t} );\n\n\t\tif ( options.click_to_move ) {\n\t\t\tcontainer.on( 'click', function( e ) {\n\t\t\t\tif ( ! e.target.closest( '.popup-button' ) ) {\n\t\t\t\t\toffsetX = container.offset().left;\n\t\t\t\t\toffsetY = container.offset().top;\n\t\t\t\t\timgWidth = beforeImg.width();\n\t\t\t\t\timgHeight = beforeImg.height();\n\n\t\t\t\t\tadjustSlider( getSliderPercentage( e.pageX, e.pageY ) );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\twindow.jQuery( window ).trigger( 'resize.coca_image_compare' );\n\t} );\n};\n"],"names":["window","jQuery","fn","coca_imageCompare","userOptions","jquery","defaultOptions","default_offset_pct","orientation","before_label","after_label","before_image","after_image","indicator_image","classes","show_labels","no_overlay","handle_bottom_only","move_slider_on_hover","move_with_handle_only","click_to_move","options","extend","each","imgHeight","imgWidth","offsetY","offsetX","container","wrapperClassList","join","call","classPrefix","beforeD","afterD","handleBottomClass","noOverlayClass","wrap","beforeImg","find","afterImg","addClass","length","append","overlay","slider","quote","indexOf","calcOffset","pct","root","querySelector","style","width","sampleImageWidth","forEach","querySelectorAll","imageElement","clientWidth","getAttribute","setAttribute","naturalWidth","naturalHeight","height","hasClass","windowWidth","innerWidth","windowHeight","innerHeight","targetWidth","targetHeight","ratio","w","h","cw","ch","adjustContainer","offset","css","adjustSliderWidth","adjustSlider","minMaxNumber","num","min","max","Math","getSliderPercentage","positionX","positionY","vertical","horizontal","sliderPercentage","document","ready","imagesLoaded","done","setTimeout","onMoveStart","e","distX","distY","preventDefault","left","top","onMove","pageX","pageY","type","onMoveEnd","removeClass","moveTarget","on","event","target","closest","trigger"],"sourceRoot":""}